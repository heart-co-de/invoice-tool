import{d as g,n as b,r as x,c as i,b as e,t as v,e as C,f as u,g as l,_ as s,w as U,F as w,p as N,o as n}from"./index-bca75412.js";import{a as S,b as k}from"./useCustomer-4b44fdc6.js";import{o as D}from"./onceTruthy-5cada62d.js";const E={key:0},z={key:1},B=["onSubmit"],F={class:"grid-cols-4 sm:space-x-2 sm:grid"},I=u("button",{type:"submit",class:"flex justify-center w-full px-3 py-2 mx-auto text-sm font-semibold text-white bg-indigo-600 rounded-md shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Save ",-1),A=g({__name:"CustomerDetailView",props:{customerId:null},setup(r){const p=r,{customerId:m}=b(p),t=x({id:m,name:"",name_additional:"",street:"",zip:"",city:"",default_price_per_hour:0,ical_url:"",image_url:""}),{data:d,isError:f,isLoading:V,error:c}=S(m);D(d,()=>{Object.assign(t,N.omit(d.value,"id"))});const{mutate:_}=k(),y=()=>{_(t)};return(j,o)=>(n(),i(w,null,[e(V)?(n(),i("div",E,"Loading...")):e(f)?(n(),i("div",z,"Error: "+v(e(c)),1)):C("",!0),u("form",{onSubmit:U(y,["prevent"]),class:"space-y-6"},[l(s,{name:"Name",type:"text",modelValue:e(t).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).name=a)},null,8,["modelValue"]),l(s,{name:"Additional Name",type:"text",modelValue:e(t).name_additional,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).name_additional=a)},null,8,["modelValue"]),l(s,{name:"Street",type:"text",modelValue:e(t).street,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).street=a)},null,8,["modelValue"]),u("div",F,[l(s,{name:"Zip",type:"text",modelValue:e(t).zip,"onUpdate:modelValue":o[3]||(o[3]=a=>e(t).zip=a)},null,8,["modelValue"]),l(s,{name:"City",type:"text",modelValue:e(t).city,"onUpdate:modelValue":o[4]||(o[4]=a=>e(t).city=a),class:"col-span-3"},null,8,["modelValue"])]),l(s,{name:"Default Price Per Hour",type:"number",min:"0",modelValue:e(t).default_price_per_hour,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).default_price_per_hour=a)},null,8,["modelValue"]),l(s,{name:"Image",type:"image",modelValue:e(t).image_url,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).image_url=a)},null,8,["modelValue"]),I],40,B)],64))}});export{A as default};
